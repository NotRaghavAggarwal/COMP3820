{"ast":null,"code":"var _jsxFileName = \"/Users/raghavaggarwal/Desktop/team11_uq/src/App.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { PatientVisualizer } from 'fhir-visualizers';\nimport { useForm } from \"react-hook-form\";\nimport { Spinner, Container, Button, Form } from \"react-bootstrap\";\nimport CsvDownloadButton from 'react-json-to-csv';\nexport default function App(props) {\n  const client = props.client;\n  const [patient, setPatient] = useState(null);\n  const lastReport = useRef(null);\n  useEffect(() => {\n    client.patient.read().then(patient => setPatient(patient));\n    // client.request(`DiagnosticReport?patient=${client.patient.id}`)\n    client.patient.request(\"DiagnosticReport\").then(response => {\n      let studies = response.entry.map(entry => entry.resource);\n      lastReport.current = studies;\n    });\n    if (lastReport.current != null) {\n      // console.log(JSON.stringify(lastReport.current[0]));\n    }\n  });\n  let pat = patient ? /*#__PURE__*/React.createElement(PatientVisualizer, {\n    patient: patient,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 3\n    }\n  }) : /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const onSubmit = data => {\n    let np = patient;\n    np.name[0].given[0] = data.fname;\n    np.name[0].family = data.lname;\n    setPatient(np);\n    client.update(np);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, pat), patient ? /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Update Patient Name\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formFirst\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"First\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"text\"\n  }, register(\"fname\"), {\n    defaultValue: patient.name[0].given.join(' '),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formLast\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Last\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"text\"\n  }, register(\"lname\"), {\n    defaultValue: patient.name[0].family,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Update\"))) : \"\", /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, \"Existing Report\"), lastReport.current != null ? lastReport.current.map((report, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Report \", index + 1), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, JSON.stringify(report, null, 2)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, \"No existing reports available.\")));\n}\n;","map":{"version":3,"names":["React","useEffect","useRef","useState","PatientVisualizer","useForm","Spinner","Container","Button","Form","CsvDownloadButton","App","props","client","patient","setPatient","lastReport","read","then","request","response","studies","entry","map","resource","current","pat","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","register","handleSubmit","formState","errors","onSubmit","data","np","name","given","fname","family","lname","update","id","Group","className","controlId","Label","Control","Object","assign","type","defaultValue","join","report","index","key","JSON","stringify"],"sources":["/Users/raghavaggarwal/Desktop/team11_uq/src/App.jsx"],"sourcesContent":["import React,{useEffect,useRef,useState} from 'react';\nimport './App.css';\nimport {PatientVisualizer} from 'fhir-visualizers';\nimport { useForm } from \"react-hook-form\";\nimport {Spinner, Container, Button, Form} from \"react-bootstrap\";\nimport CsvDownloadButton from 'react-json-to-csv'\n\n\nexport default function App(props) {\n  const client=props.client;\n  const [patient, setPatient] = useState(null);\n  const lastReport = useRef(null);\n\n  useEffect(() => {\n    client.patient.read().then((patient) => setPatient(patient));\n    // client.request(`DiagnosticReport?patient=${client.patient.id}`)\n    client.patient.request(\"DiagnosticReport\")\n    .then(response => {\n      let studies = response.entry.map(entry => entry.resource);\n      lastReport.current = studies;\n    })\n    if (lastReport.current != null) {\n      // console.log(JSON.stringify(lastReport.current[0]));\n    }\n  });\n\n  let pat=patient?\n  <PatientVisualizer patient={patient} />\n  : <Spinner/>;\n\n  const { register, handleSubmit, formState: { errors } } = useForm();\n  const onSubmit = data => {\n    let np=patient;\n    np.name[0].given[0]=data.fname;\n    np.name[0].family=data.lname;\n    setPatient(np);\n    client.update(np);\n  };\n\n  return (\n    <div id=\"app\">\n      <Container>\n        {pat}\n      </Container>\n      {patient?\n      <Container>\n        <h4>Update Patient Name</h4>\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Form.Group className=\"mb-3\" controlId=\"formFirst\">\n        <Form.Label>First</Form.Label>\n        <Form.Control type=\"text\" {...register(\"fname\")} defaultValue={ patient.name[0].given.join(' ')} />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formLast\">\n        <Form.Label>Last</Form.Label>\n        <Form.Control type=\"text\" {...register(\"lname\")} defaultValue={ patient.name[0].family } />\n        </Form.Group>\n        <Button type=\"submit\" >Update</Button>\n      </Form>\n      </Container>\n      :\"\"}\n      {/* <Container>\n        <Button type=\"button\" className=\"btn btn-primary\" onClick={getStudies}>Get Report</Button>\n      </Container> */}\n      {/* <Container>\n        <br/>\n        <CsvDownloadButton data={\n          lastReport.current != null ?\n          lastReport.current.map(report =>\n            report\n          )\n          :[]\n\n        } />\n        <br/>\n        <h4>Existing Report</h4>\n        {lastReport.current != null ?\n        lastReport.current.map(report =>\n          <pre>{JSON.stringify(report, null, 2)}</pre>)\n        :\"\"}\n\n      </Container> */}\n      <Container>\n  <br />\n  <h4>Existing Report</h4>\n  {lastReport.current != null ? (\n    lastReport.current.map((report, index) => (\n      <div key={index}>\n        <h5>Report {index + 1}</h5>\n        <pre>{JSON.stringify(report, null, 2)}</pre>\n      </div>\n    ))\n  ) : (\n    <p>No existing reports available.</p>\n  )}\n</Container>\n\n\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
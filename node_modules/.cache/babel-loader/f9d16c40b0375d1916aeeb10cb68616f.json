{"ast":null,"code":"var _jsxFileName = \"/Users/raghavaggarwal/Desktop/team11_uq/src/App.jsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport './App.css';\nimport { PatientVisualizer } from 'fhir-visualizers';\nimport { useForm } from \"react-hook-form\";\nimport { Spinner, Container, Button, Form } from \"react-bootstrap\";\n// import CsvDownloadButton from './CsvDownloadButton';\n\nexport default function App(props) {\n  const client = props.client;\n  const [patient, setPatient] = useState(null);\n  const lastReport = useRef(null);\n  useEffect(() => {\n    client.patient.read().then(patient => setPatient(patient));\n    // client.request(`DiagnosticReport?patient=${client.patient.id}`)\n    client.patient.request(\"DiagnosticReport\").then(response => {\n      let studies = response.entry.map(entry => entry.resource);\n      lastReport.current = studies;\n    });\n    if (lastReport.current != null) {\n      // console.log(JSON.stringify(lastReport.current[0]));\n    }\n  });\n  var formdata = new FormData();\n  formdata.append(\"input_file\", fileInput.files[0], \"1_IM-0001-4002.dcm\");\n  var requestOptions = {\n    method: 'POST',\n    body: formdata,\n    redirect: 'follow'\n  };\n  fetch(\"127.0.0.1:80/dicom_to_report\", requestOptions).then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error));\n  let pat = patient ? /*#__PURE__*/React.createElement(PatientVisualizer, {\n    patient: patient,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }) : /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  });\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const onSubmit = data => {\n    let np = patient;\n    np.name[0].given[0] = data.fname;\n    np.name[0].family = data.lname;\n    setPatient(np);\n    client.update(np);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, pat), patient ? /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Update Patient Name\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formFirst\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"First\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"text\"\n  }, register(\"fname\"), {\n    defaultValue: patient.name[0].given.join(' '),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"formLast\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Last\"), /*#__PURE__*/React.createElement(Form.Control, Object.assign({\n    type: \"text\"\n  }, register(\"lname\"), {\n    defaultValue: patient.name[0].family,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Update\"))) : \"\", /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }, \"Fetch API Report\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 3\n    }\n  }, \"Existing Report\"), lastReport.current != null ? lastReport.current.map((report, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Report \", index + 1), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, JSON.stringify(report, null, 2)))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, \"No existing reports available.\")));\n}\n;","map":{"version":3,"names":["React","useEffect","useRef","useState","PatientVisualizer","useForm","Spinner","Container","Button","Form","App","props","client","patient","setPatient","lastReport","read","then","request","response","studies","entry","map","resource","current","formdata","FormData","append","fileInput","files","requestOptions","method","body","redirect","fetch","text","result","console","log","catch","error","pat","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","register","handleSubmit","formState","errors","onSubmit","data","np","name","given","fname","family","lname","update","id","Group","className","controlId","Label","Control","Object","assign","type","defaultValue","join","report","index","key","JSON","stringify"],"sources":["/Users/raghavaggarwal/Desktop/team11_uq/src/App.jsx"],"sourcesContent":["import React,{useEffect,useRef,useState} from 'react';\nimport './App.css';\nimport {PatientVisualizer} from 'fhir-visualizers';\nimport { useForm } from \"react-hook-form\";\nimport {Spinner, Container, Button, Form} from \"react-bootstrap\";\n// import CsvDownloadButton from './CsvDownloadButton';\n\nexport default function App(props) {\n  const client=props.client;\n  const [patient, setPatient] = useState(null);\n  const lastReport = useRef(null);\n\n  useEffect(() => {\n    client.patient.read().then((patient) => setPatient(patient));\n    // client.request(`DiagnosticReport?patient=${client.patient.id}`)\n    client.patient.request(\"DiagnosticReport\")\n    .then(response => {\n      let studies = response.entry.map(entry => entry.resource);\n      lastReport.current = studies;\n    })\n    if (lastReport.current != null) {\n      // console.log(JSON.stringify(lastReport.current[0]));\n    }\n  });\nvar formdata = new FormData();\nformdata.append(\"input_file\", fileInput.files[0], \"1_IM-0001-4002.dcm\");\n\nvar requestOptions = {\n  method: 'POST',\n  body: formdata,\n  redirect: 'follow'\n};\n  fetch(\"127.0.0.1:80/dicom_to_report\", requestOptions)\n  .then(response => response.text())\n  .then(result => console.log(result))\n  .catch(error => console.log('error', error));\n\n\n  let pat=patient?\n  <PatientVisualizer patient={patient} />\n  : <Spinner/>;\n\n  const { register, handleSubmit, formState: { errors } } = useForm();\n  const onSubmit = data => {\n    let np=patient;\n    np.name[0].given[0]=data.fname;\n    np.name[0].family=data.lname;\n    setPatient(np);\n    client.update(np);\n  };\n\n  return (\n    <div id=\"app\">\n      <Container>\n        {pat}\n      </Container>\n      {patient?\n      <Container>\n        <h4>Update Patient Name</h4>\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Form.Group className=\"mb-3\" controlId=\"formFirst\">\n        <Form.Label>First</Form.Label>\n        <Form.Control type=\"text\" {...register(\"fname\")} defaultValue={ patient.name[0].given.join(' ')} />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formLast\">\n        <Form.Label>Last</Form.Label>\n        <Form.Control type=\"text\" {...register(\"lname\")} defaultValue={ patient.name[0].family } />\n        </Form.Group>\n        <Button type=\"submit\" >Update</Button>\n      </Form>\n      </Container>\n      :\"\"}\n      {/* <Container>\n        <Button type=\"button\" className=\"btn btn-primary\" onClick={getStudies}>Get Report</Button>\n      </Container> */}\n      {/* <Container>\n        <br/>\n        <CsvDownloadButton data={\n          lastReport.current != null ?\n          lastReport.current.map(report =>\n            report\n          )\n          :[]\n\n        } />\n        <br/>\n        <h4>Existing Report</h4>\n        {lastReport.current != null ?\n        lastReport.current.map(report =>\n          <pre>{JSON.stringify(report, null, 2)}</pre>)\n        :\"\"}\n\n\n      </Container> */}\n      <Container>\n  <br />\n  <br />\n  <h4>Fetch API Report</h4>\n  \n  <br />\n  <h4>Existing Report</h4>\n  {lastReport.current != null ? (\n    lastReport.current.map((report, index) => (\n      <div key={index}>\n        <h5>Report {index + 1}</h5>\n        <pre>{JSON.stringify(report, null, 2)}</pre>\n      </div>\n    ))\n  ) : (\n    <p>No existing reports available.</p>\n  )}\n</Container>\n\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}